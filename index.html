<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>Sketchfab Viewer API example</title>

    <!-- Insert this script -->
    <script type="text/javascript" src="https://static.sketchfab.com/api/sketchfab-viewer-1.1.0.js"></script>
    <style>
      .selector {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: 2px solid black;
        cursor: pointer;
        float: left;
        margin-left: 1em;
      }

      .active .inner-inner-circle {
        display: block;
      }

      .selector.red {
        border-color: rgb(174, 54, 58);
      }
      .selector.red {
        background: rgb(174, 54, 58);
      }

      .selector.green {
        border-color: rgb(59, 113, 68);
      }
      .selector.green {
        background: rgb(59, 113, 68);
      }

      .selector.black {
        background: black;
      }

      .selector.active {
        border-color: grey;
      }
      #tools {
        position: absolute;
        top: 40px;
        right: 0;
        width: 300px;
        height: 150px;
        z-index: 999;
        text-align: right;
        display: flex;
        flex-wrap: wrap;
        padding: 1em;
      }

      .tool-container {
        overflow: auto;
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-end;
        width: 100%;
      }

      .tool-header {
        width: 100%;
        font-family: myriad, sans-serif;
        font-weight: bold;
        border-bottom: 1px solid black;
        width: 100%;
        height: 20px;
      }


    </style>
</head>

<body>
    <div id="tools">
      <div class="tool-container">
        <div class="tool-header">Choose a color</div>
        <div data-toggle="on" class="selector red active" data-obj-id="545"></div>
        <div data-toggle="off" class="selector green" data-obj-id="539"></div>
        <div data-toggle="off" class="selector black" data-obj-id="546"></div>
      </div><!-- .tool-container -->
      <div class="tool-container">
        <div class="tool-header">Choose lighting</div>
        <div class="selector"></div>
        <div class="selector"></div>
      </div><!-- .tool-container -->
    </div>
    <!-- Insert an empty iframe -->
    <iframe style="display: block; position: absolute; width: 100%; height: 100%; left: 0; top: 0; border: 0;" width="640" height="480" id="api-frame" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

    <script

  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
    <!-- Initialize the viewer -->
    <script type="text/javascript">
    window.api;
    var iframe = document.getElementById( 'api-frame' );
    var urlid = 'b2f1e419b2ee402e87fa5d186cbab7c4';

    // By default, the latest version of the viewer API will be used.
    var client = new Sketchfab( iframe );

    // Alternatively, you can request a specific version.
    // var client = new Sketchfab( '1.0.0', iframe );

    client.init( urlid, {
        success: function onSuccess( api ){
            api.start();
            api.addEventListener( 'viewerready', function() {
              window.api = api;
              api.getNodeMap((err, nodes) => {
                console.log(nodes);
              });


              // API is ready to use
              // Insert your code here
              // 458, 459, 460
              api.hide(539);
              // api.hide(540);
              api.hide(546);
              api.getNodeMap(function(err, nodes) {

              });
              $('.selector').on('click', function(e) {
                $('.selector').removeClass('active');
                $(e.target).addClass('active');
                hideAll(api);
                api.show($(e.target).data('obj-id'));
              });
          } );
        },
        error: function onError() {
            console.log( 'Viewer error' );
        }
    } );

    function hideAll(api) {
      api.hide(539);
      // api.hide(540);
      api.hide(545);
      api.hide(546);
    }
    </script>
    <!-- <label for="obj_0">Toggle First Object</label>
    <input type="checkbox" name="obj_0" checked="checked" data-obj-id="458">
    <label for="obj_1">Toggle Second Object</label>
    <input type="checkbox" name="obj_1" data-obj-id="459">
    <label for="obj_2">Toggle Third Object</label>
    <input type="checkbox" name="obj_2" data-obj-id="460"> -->
</body>
</html>
